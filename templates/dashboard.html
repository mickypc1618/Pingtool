{% extends "layout.html" %}

{% block head %}
  <meta http-equiv="refresh" content="60">
{% endblock %}

{% block content %}
<section class="card">
  <div class="section-header">
    <h2>Agilico Dashboard</h2>
    <a class="button" href="{{ url_for('ping_all') }}">Refresh Status</a>
  </div>
  <p class="dashboard-subtitle">Down Hosts</p>
  {% if hosts %}
    <div class="down-grid">
      {% for host in hosts %}
      <div class="down-card">
        <h3>{{ host['hostname'] }}</h3>
        <p><strong>Down for:</strong> {{ host['downtime_display'] }}</p>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <p>All hosts are currently reachable.</p>
  {% endif %}
</section>
{% endblock %}
